---
title: Config Reference
description: Full lib/config.ts API reference
---

## Overview

`lib/config.ts` exports `siteConfig`, the central configuration hub for ChatJS. Toggle features, configure providers, and customize behavior.

<Note>
  In client components, use `useConfig()` from `@/components/config-provider` instead of importing `siteConfig` directly.
</Note>

## Access patterns

Server components / server-only code:

```ts
import { siteConfig } from "@/lib/config";
```

Client components:

```ts
"use client";

import { useConfig } from "@/components/config-provider";

const config = useConfig();
```

## Configuration Shape

```ts
export type PricingConfig = {
  currency?: string;
  free?: {
    name: string;
    summary: string;
  };
  pro?: {
    name: string;
    monthlyPrice: number;
    summary: string;
  };
};

export type ModelsConfig = {
  /** Provider sort order in model selector */
  providerOrder: string[];
  /** Models to hide from all users */
  disabledModels: AppModelId[];
  /** Default models enabled for new users */
  curatedDefaults: AppModelId[];
  /** Models available to anonymous users */
  anonymousModels: AppModelId[];
  /** Default model for each task type */
  defaults: {
    chat: AppModelId;
    title: AppModelId;
    pdf: AppModelId;
    artifact: AppModelId;
    artifactSuggestion: AppModelId;
    followupSuggestions: AppModelId;
    suggestions: AppModelId;
    polishText: AppModelId;
    formatSheet: AppModelId;
    analyzeSheet: AppModelId;
    codeEdits: AppModelId;
    chatImageCompatible: AppModelId;
    image: AnyImageModelId;
  };
};

export type AnonymousConfig = {
  /** Message credits for anonymous users */
  credits: number;
  /** Tools available to anonymous users */
  availableTools: string[];
  /** Rate limits */
  rateLimit: {
    requestsPerMinute: number;
    requestsPerMonth: number;
  };
};

export type SiteConfig = {
  githubUrl: string;
  appPrefix: string;
  appName: string;
  appDescription: string;
  appUrl: string;

  organization: {
    name: string;
    contact: {
      privacyEmail: string;
      legalEmail: string;
    };
  };

  services: {
    hosting: string;
    aiProviders: string[];
    paymentProcessors: string[];
  };

  /**
   * Feature flags for optional integrations.
   * Set to true to enable - requires corresponding env vars.
   * Validated at server startup via validateConfig().
   */
  integrations: {
    /** Code sandbox execution (E2B) */
    sandbox: boolean;
    /** Web search */
    webSearch: boolean;
    /** MCP tool servers */
    mcp: boolean;
    /** AI image generation */
    imageGeneration: boolean;
  };

  pricing?: PricingConfig;

  legal: {
    minimumAge: number;
    governingLaw: string;
    refundPolicy: string;
  };

  policies: {
    privacy: {
      title: string;
      lastUpdated?: string;
    };
    terms: {
      title: string;
      lastUpdated?: string;
    };
  };

  /**
   * Auth provider toggles.
   * Set to true to enable - requires corresponding env vars.
   * Validated at server startup via validateConfig().
   */
  authentication: {
    /** Google OAuth (requires AUTH_GOOGLE_ID + AUTH_GOOGLE_SECRET) */
    google: boolean;
    /** GitHub OAuth (requires AUTH_GITHUB_ID + AUTH_GITHUB_SECRET) */
    github: boolean;
    /** Vercel OAuth (requires VERCEL_APP_CLIENT_ID + VERCEL_APP_CLIENT_SECRET) */
    vercel: boolean;
  };

  /** Model configuration */
  models: ModelsConfig;
  /** Anonymous user configuration */
  anonymous: AnonymousConfig;
};
```

## Feature flags + env validation

Feature flags live under `integrations` and `authentication`. Theyâ€™re validated at server startup by `validateConfig()` (`lib/env.ts`):

- **prod**: throws and crashes early
- **dev**: logs a warning

### Integrations

- **`integrations.sandbox`**: requires `VERCEL_OIDC_TOKEN` (on Vercel) *or* `VERCEL_TEAM_ID + VERCEL_PROJECT_ID + VERCEL_TOKEN` (self-hosted)
- **`integrations.webSearch`**: requires `TAVILY_API_KEY` *or* `FIRECRAWL_API_KEY`
- **`integrations.mcp`**: requires `MCP_ENCRYPTION_KEY`
- **`integrations.imageGeneration`**: no required env vars

### Authentication

- **`authentication.google`**: requires `AUTH_GOOGLE_ID + AUTH_GOOGLE_SECRET`
- **`authentication.github`**: requires `AUTH_GITHUB_ID + AUTH_GITHUB_SECRET`
- **`authentication.vercel`**: requires `VERCEL_APP_CLIENT_ID + VERCEL_APP_CLIENT_SECRET`

## Notes on behavior

- **Anonymous limits**: `anonymous.credits` and rate limits are typically higher in dev and lower in prod (see `siteConfig.anonymous` implementation).
- **Models**: `models.defaults` drives which model is used per task; `models.disabledModels` hard-hides models globally; `models.anonymousModels` constrains what anonymous users can pick.
