# Nixpacks configuration for Dokploy/Docker deployment
# This file tells Nixpacks how to build the app with Bun

[phases.setup]
nixPkgs = ["bun", "nodejs_22"]

[phases.install]
cmds = ["bun install --frozen-lockfile"]

[phases.build]
cmds = ["bun run build"]

[start]
cmd = "bun run start"

# Environment variables needed at build time
[variables]
NODE_ENV = "production"
