---
title: "Configuration"
description: "Customize ChatJS via chat.config.ts"
---

All feature toggles and app settings live in `chat.config.ts`. It is parsed and exported as `config` from `@/lib/config`.

## Config Structure

```typescript title="chat.config.ts"
import type { ConfigInput } from "@/lib/config-schema";

const config: ConfigInput = {
  appName: "Your App Name",
  appPrefix: "your-app",

  organization: {
    name: "Your Company",
    contact: {
      privacyEmail: "privacy@example.com",
      legalEmail: "legal@example.com",
    },
  },

  models: {
    gateway: "vercel", // "vercel" | "openrouter" | "openai" | "openai-compatible"
    // ...
  },

  features: {
    sandbox: true,             // Code execution (Python/JS)
    webSearch: true,           // Tavily/Firecrawl web search
    urlRetrieval: true,        // Firecrawl URL content retrieval
    deepResearch: true,        // Multi-step research agent
    mcp: true,                 // MCP connector support
    imageGeneration: true,     // AI image generation
    attachments: true,         // File uploads (images, PDFs)
    followupSuggestions: true, // Contextual follow-up questions
  },

  authentication: {
    google: true,
    github: true,
    vercel: false,
  },

  // ... more options
};

export default config;
```

## AI Gateway

The `models.gateway` field selects which AI backend to use. All model routing, fetching, and API calls go through the active gateway.

| Value                 | Backend                                          | Env Dependency                              |
| --------------------- | ------------------------------------------------ | ------------------------------------------- |
| `"vercel"` (default)  | [Vercel AI Gateway](/gateways/vercel)            | `AI_GATEWAY_API_KEY` or `VERCEL_OIDC_TOKEN` |
| `"openrouter"`        | [OpenRouter](/gateways/openrouter)               | `OPENROUTER_API_KEY`                        |
| `"openai"`            | [OpenAI](/gateways/openai)                       | `OPENAI_API_KEY`                            |
| `"openai-compatible"` | [OpenAI Compatible](/gateways/openai-compatible) | `OPENAI_COMPATIBLE_BASE_URL`                |

```typescript
models: {
  gateway: "openrouter", // Switch to OpenRouter
  // ...
},
```

See [Gateways](/gateways/overview) for detailed setup and comparison.

## Features

Toggle features on/off. Set to `true` to enable. Missing env vars are caught at build time via `bun run prebuild`.

| Feature               | Config Key                      | Env Dependency                                                                         |
| --------------------- | ------------------------------- | -------------------------------------------------------------------------------------- |
| Code Sandbox          | `features.sandbox`              | `VERCEL_OIDC_TOKEN` (on Vercel) or `VERCEL_TEAM_ID + VERCEL_PROJECT_ID + VERCEL_TOKEN` |
| Web Search            | `features.webSearch`            | `TAVILY_API_KEY` or `FIRECRAWL_API_KEY`                                                |
| URL Retrieval         | `features.urlRetrieval`         | `FIRECRAWL_API_KEY`                                                                    |
| Deep Research         | `features.deepResearch`         | Requires `features.webSearch: true`                                                    |
| MCP Connectors        | `features.mcp`                  | `MCP_ENCRYPTION_KEY`                                                                   |
| Image Generation      | `features.imageGeneration`      | `BLOB_READ_WRITE_TOKEN`                                                                |
| Attachments           | `features.attachments`          | `BLOB_READ_WRITE_TOKEN`                                                                |
| Follow-up Suggestions | `features.followupSuggestions`  | None                                                                                   |

```typescript
features: {
  sandbox: true,             // Vercel-native, requires VERCEL_OIDC_TOKEN
  webSearch: true,           // Requires TAVILY_API_KEY or FIRECRAWL_API_KEY
  urlRetrieval: false,       // Requires FIRECRAWL_API_KEY
  deepResearch: false,       // Requires features.webSearch: true
  mcp: false,                // Requires MCP_ENCRYPTION_KEY
  imageGeneration: true,     // Requires BLOB_READ_WRITE_TOKEN
  attachments: true,         // Requires BLOB_READ_WRITE_TOKEN
  followupSuggestions: true, // No env var required
},
```

## Authentication

Set to `true` to enable providers. Missing env vars are caught at server startup.

```typescript
authentication: {
  google: false, // Requires AUTH_GOOGLE_ID + AUTH_GOOGLE_SECRET
  github: true,  // Requires AUTH_GITHUB_ID + AUTH_GITHUB_SECRET
  vercel: false, // Requires VERCEL_APP_CLIENT_ID + VERCEL_APP_CLIENT_SECRET
},
```

## Branding

Customize app name and organization details:

```typescript
appName: "ChatJS",
appTitle: "ChatJS - The prod ready AI chat app",
appPrefix: "chatjs",

organization: {
  name: "Your Company",
  contact: {
    privacyEmail: "privacy@example.com",
    legalEmail: "legal@example.com",
  },
},
```

## Deep Research

Configure the deep research agent pipeline:

```typescript
deepResearch: {
  allowClarification: true,       // Ask clarifying questions before starting
  maxResearcherIterations: 1,     // Supervisor loop iterations
  maxConcurrentResearchUnits: 2,  // Topics researched in parallel
  maxSearchQueries: 2,            // Queries per research topic
},
```

See [Deep Research](/features/deep-research) for usage details.

## Using Config in Components

Import directly in both server and client components:

```typescript
import { config } from "@/lib/config";

export function MyComponent() {
  return <div>{config.appName}</div>;
}
```

See [Config Reference](/reference/config) for full type definitions.
