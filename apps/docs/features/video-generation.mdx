---
title: Video Generation
description: AI-powered video creation in your chat app
---

## Overview

Generate videos directly in chat using AI models. Users describe what they want and the model produces a short video clip, which is then playable inline.

## Quick Start

Toggle in `chat.config.ts`:

```ts
features: {
  videoGeneration: true, // Requires BLOB_READ_WRITE_TOKEN
}
```

<Note>
  Video generation requires `BLOB_READ_WRITE_TOKEN` since generated videos are
  uploaded to Vercel Blob storage.
</Note>

Configure the default video model:

```ts
models: {
  defaults: {
    video: "xai/grok-imagine-video",
  },
}
```

## Parameters

The tool accepts the following inputs:

| Parameter         | Type                          | Default | Description                        |
| ----------------- | ----------------------------- | ------- | ---------------------------------- |
| `prompt`          | string                        | —       | Descriptive text for the video     |
| `aspectRatio`     | `"16:9"` \| `"9:16"` \| `"1:1"` | `"16:9"` | Output aspect ratio             |
| `durationSeconds` | number (1–10)                 | `5`     | Length of the generated video      |

The LLM fills in these parameters automatically based on the user's request.

## Architecture

Follows the [Tool Part](/cookbook/tool-part) pattern:

```
lib/ai/tools/generate-video.ts → components/part/generate-video.tsx
```

### Tool Output

```ts
return { videoUrl: result.url, prompt };
```

The generated video is uploaded to blob storage and the URL returned. Supported container formats are mp4, webm, and mov, resolved from the response media type.

### UI States

| State             | Shows                                    |
| ----------------- | ---------------------------------------- |
| `input-available` | Pulsing placeholder + "Generating video: {prompt}" |
| `output-available` | Inline video player with controls, autoplay, loop, and mute |
| `failed`          | Error message with suggestion to try a different prompt |

## Configuration

### Video Model

```ts title="chat.config.ts"
models: {
  defaults: {
    video: "xai/grok-imagine-video",
  },
}
```

### Model Selection Logic

When the tool runs, it resolves the model to use:

1. If the user's selected chat model supports video output (per the app model registry, `model.output.video`), use it.
2. Otherwise, fall back to `config.models.defaults.video`.

### Google Model Handling

For Google (Gemini) models, `aspectRatio` is passed in provider-specific options rather than as a top-level parameter.
